<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thesis Tracker 3D - Intelligent Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./src/style.css">
</head>
<body>
    <!-- 3D Background -->
    <div id="canvas-container"></div>

    <!-- Save Indicator -->
    <div id="save-indicator" class="save-indicator fixed bottom-5 right-5 px-5 py-2 rounded-full text-xs font-bold transition-all z-[100] bg-emerald-500 text-white shadow-lg shadow-emerald-500/30">Saved</div>

    <!-- UI Layer -->
    <div class="ui-layer min-h-screen p-6">
        
        <!-- Header -->
        <header class="glass-panel p-8 mb-6 floating pointer-events-auto">
            <div class="flex flex-col md:flex-row justify-between items-start mb-6 gap-4">
                <div>
                    <h1 class="text-4xl font-extrabold glow-text mb-2 bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400">Thesis Tracker 3D</h1>
                    <p class="text-sm text-slate-400 max-w-xl">Investigating Student Retention of AI-Suggested Vocabulary: An Empirical Analysis of Lexical Acquisition vs Borrowing</p>
                </div>
                <div class="flex gap-2 w-full md:w-auto">
                    <button id="reset-btn" class="flex-1 md:flex-none px-5 py-2.5 bg-red-500/10 text-red-400 rounded-xl text-sm font-semibold hover:bg-red-500/20 transition border border-red-500/20">Reset</button>
                    <button id="export-btn" class="flex-1 md:flex-none px-5 py-2.5 bg-emerald-500/10 text-emerald-400 rounded-xl text-sm font-semibold hover:bg-emerald-500/20 transition border border-emerald-500/20">Export</button>
                    <button id="import-trigger" class="flex-1 md:flex-none px-5 py-2.5 bg-blue-500/10 text-blue-400 rounded-xl text-sm font-semibold hover:bg-blue-500/20 transition border border-blue-500/20">Import</button>
                    <input type="file" id="import-file" accept=".json" class="hidden">
                </div>
            </div>

            <!-- Metrics Dashboard -->
            <div class="grid grid-cols-2 lg:grid-cols-6 gap-4 mb-6">
                <div class="metric-card">
                    <div class="text-[10px] text-slate-400 mb-1 uppercase tracking-widest font-bold">Overall</div>
                    <div class="text-3xl font-black text-white" id="overall-progress">0%</div>
                    <div class="w-full bg-slate-800/50 rounded-full h-1.5 mt-2 overflow-hidden">
                        <div id="progress-bar-fill" class="progress-bar h-full rounded-full" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="text-[10px] text-slate-400 mb-1 uppercase tracking-widest font-bold">Completed</div>
                    <div class="text-3xl font-black text-emerald-400" id="completed-count">0/35</div>
                    <div class="text-xs text-slate-500 mt-1">sections done</div>
                </div>
                
                <div class="metric-card relative overflow-hidden group">
                    <div class="text-[10px] text-slate-400 mb-1 uppercase tracking-widest font-bold">Days Left</div>
                    <div class="text-3xl font-black text-amber-400" id="days-left">40</div>
                    <div class="text-xs text-slate-500 mt-1">until Mar 30</div>
                    <div class="absolute -right-2 -bottom-2 opacity-10 group-hover:opacity-20 transition-opacity">
                        <svg class="w-16 h-16" fill="currentColor" viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm3.3 14.71L11 12.41V7h2v4.59l3.71 3.71-1.42 1.41z"/></svg>
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="text-[10px] text-slate-400 mb-1 uppercase tracking-widest font-bold">Words</div>
                    <div class="text-3xl font-black text-purple-400" id="words-written">0</div>
                    <div class="text-xs text-slate-500 mt-1">of 15,000</div>
                </div>
                
                <div class="metric-card" id="next-focus-card">
                    <div class="text-[10px] text-slate-400 mb-1 uppercase tracking-widest font-bold">Focus Next</div>
                    <div class="text-sm font-bold text-indigo-300 leading-tight truncate" id="next-section">Loading...</div>
                    <div class="text-xs text-slate-500 mt-1" id="next-date">-</div>
                </div>
                
                <div class="metric-card">
                    <div class="text-[10px] text-slate-400 mb-1 uppercase tracking-widest font-bold">Current</div>
                    <div class="text-2xl font-black text-blue-400" id="current-chapter-display">Ch 1</div>
                    <div class="text-xs text-slate-500 mt-1" id="chapter-progress-text">0% step</div>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="flex gap-4 md:gap-8 border-t border-slate-800/50 pt-5">
                <button class="nav-tab active px-2 py-1.5 text-xs font-bold uppercase tracking-widest" data-view="dashboard">üìä Dashboard</button>
                <button class="nav-tab px-2 py-1.5 text-xs font-bold uppercase tracking-widest" data-view="tracker">‚òëÔ∏è Tracker</button>
                <button class="nav-tab px-2 py-1.5 text-xs font-bold uppercase tracking-widest" data-view="gantt">üìÖ Gantt</button>
                <button class="nav-tab px-2 py-1.5 text-xs font-bold uppercase tracking-widest" data-view="analytics">üìà Analytics</button>
                <button class="nav-tab px-2 py-1.5 text-xs font-bold uppercase tracking-widest" data-view="three-d">üé≤ 3D Realm</button>
            </nav>
        </header>

        <!-- VIEW CONTAINER -->
        <main id="main-content">
            <!-- DASHBOARD VIEW -->
            <div id="view-dashboard" class="view-section active">
                <div class="glass-panel p-8 mb-6">
                    <h2 class="text-xl font-bold mb-6 flex items-center gap-3">
                        <span class="w-3 h-3 bg-indigo-500 rounded-full animate-pulse shadow-[0_0_10px_#6366f1]"></span>
                        Strategic Chapter Progress
                    </h2>
                    <div class="flex flex-wrap justify-around items-center gap-8" id="chapter-rings">
                        <!-- Generated by JS -->
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                    <div class="glass-panel p-6">
                        <h3 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4">Weekly Velocity</h3>
                        <div class="h-[250px]">
                            <canvas id="velocity-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="glass-panel p-6">
                        <h3 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4">Chapter Distribution</h3>
                        <div class="h-[250px]">
                            <canvas id="distribution-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="glass-panel p-6">
                        <h3 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4">Submission Forecast</h3>
                        <div class="h-[250px]">
                            <canvas id="forecast-chart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="glass-panel p-8">
                    <h3 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4">Deep Work Heatmap (Feb-Mar)</h3>
                    <div id="heatmap-container" class="flex flex-wrap gap-1.5">
                        <!-- Generated by JS -->
                    </div>
                </div>
            </div>

            <!-- TRACKER VIEW -->
            <div id="view-tracker" class="view-section hidden">
                <div class="glass-panel overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead class="bg-indigo-500/5 text-[10px] uppercase tracking-widest text-slate-500">
                                <tr>
                                    <th class="p-4 w-12">Sts</th>
                                    <th class="p-4 w-32">Target Date</th>
                                    <th class="p-4 w-16 text-center">Ch</th>
                                    <th class="p-4">Section Module</th>
                                    <th class="p-4 hidden lg:table-cell">Key Theoretical Concepts</th>
                                    <th class="p-4 w-40">Citation Core</th>
                                    <th class="p-4 w-12"></th>
                                </tr>
                            </thead>
                            <tbody id="tracker-body" class="text-sm">
                                <!-- Generated by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- GANTT VIEW -->
            <div id="view-gantt" class="view-section hidden">
                <div class="glass-panel p-8">
                    <h2 class="text-2xl font-black mb-8">Strategic Timeline (Gantt)</h2>
                    <div id="gantt-chart" class="space-y-3">
                        <!-- Generated by JS -->
                    </div>
                </div>
            </div>

            <!-- ANALYTICS VIEW -->
            <div id="view-analytics" class="view-section hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="glass-panel p-8">
                        <h3 class="text-lg font-bold mb-6 text-indigo-400">Cumulative Progress Curve</h3>
                        <div class="h-[350px]">
                            <canvas id="cumulative-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="glass-panel p-8">
                        <h3 class="text-lg font-bold mb-6 text-emerald-400">Citation Density Map</h3>
                        <div class="h-[350px]">
                            <canvas id="papers-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="glass-panel p-8">
                        <h3 class="text-lg font-bold mb-6 text-purple-400">Word Count Volume</h3>
                        <div class="h-[350px]">
                            <canvas id="words-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="glass-panel p-8">
                        <h3 class="text-lg font-bold mb-6 text-amber-400">Structural Risk Matrix</h3>
                        <div id="risk-matrix" class="space-y-4">
                            <!-- Generated by JS -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3D VIEW -->
            <div id="view-three-d" class="view-section hidden">
                <div class="glass-panel p-12 text-center max-w-2xl mx-auto">
                    <div class="w-20 h-20 bg-indigo-500/20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg class="w-10 h-10 text-indigo-400 animate-spin-slow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"></path></svg>
                    </div>
                    <h2 class="text-3xl font-black mb-4">Neural Visualization Mode</h2>
                    <p class="text-slate-400 mb-8">The background visualization represents your thesis structure. Each floating node is a chapter. The glow intensities react to your completion rates.</p>
                    <div class="grid grid-cols-3 gap-6">
                        <div class="metric-card bg-indigo-500/5">
                            <div class="text-3xl font-black text-indigo-400">7</div>
                            <div class="text-[10px] uppercase font-bold text-slate-500 mt-1">Nodes</div>
                        </div>
                        <div class="metric-card bg-purple-500/5">
                            <div class="text-3xl font-black text-purple-400">2000</div>
                            <div class="text-[10px] uppercase font-bold text-slate-500 mt-1">Particles</div>
                        </div>
                        <div class="metric-card bg-emerald-500/5">
                            <div class="text-3xl font-black text-emerald-400" id="completion-3d">0%</div>
                            <div class="text-[10px] uppercase font-bold text-slate-500 mt-1">Sync</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script type="module" src="./src/main.js"></script>
</body>
</html>
